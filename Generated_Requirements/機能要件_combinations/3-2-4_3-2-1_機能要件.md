# 機能要求書

## 3.2 機能要求（Functional Requirements）

### 3.2.1 システムが提供する具体的な機能

#### 3.2.1.1 ランドマーク探索

  - **3.2.1.1.1 インプット**
      - 地図に従ってランドマークにアクセス。

  - **3.2.1.1.2 プロセス**
      - チャットアプリからイベントアプリを起動し、ランドマークの場所を確認。

  - **3.2.1.1.3 アウトプット**
      - ランドマークでのアクションログ。

#### 3.2.1.2 写真のアップロードと自動解析

  - **3.2.1.2.1 インプット**
      - スマートフォンから撮影された写真。

  - **3.2.1.2.2 プロセス**
      - アップロードされた写真を解析し、関連情報を表示。

  - **3.2.1.2.3 アウトプット**
      - 写真の解析結果とスコア表示。

#### 3.2.1.3 活動履歴の確認

  - **3.2.1.3.1 インプット**
      - 参加者の活動データ。

  - **3.2.1.3.2 プロセス**
      - オペレータ端末でのデータ確認。

  - **3.2.1.3.3 アウトプット**
      - 参加者の活動履歴表示。

### 3.2.2 ユーザーストーリーやユースケース

#### 3.2.2.1 ユースケース1の説明 - ランドマーク探索

  - **3.2.2.1.1 アクター**
      - 参加者

  - **3.2.2.1.2 前提条件**
      - アプリがチャットアプリから正しく起動されていること。

  - **3.2.2.1.3 基本フロー**
      - 参加者はチャットアプリからイベントアプリを起動 → 地図を参照してランドマークに移動。

  - **3.2.2.1.4 代替フロー**
      - ランドマークが見つからない場合、オペレータによるサポート。

  - **3.2.2.1.5 後処理条件**
      - ランドマーク到着後のタスク完了記録。

#### 3.2.2.2 ユースケース2の説明 - 写真アップロード

  - **3.2.2.2.1 アクター**
      - 参加者

  - **3.2.2.2.2 前提条件**
      - アプリが正しく動作していること、カメラアクセスが許可されていること。

  - **3.2.2.2.3 基本フロー**
      - 参加者がランドマークで写真を撮影 → アップロードボタンをタップ → 自動解析が行われる。

  - **3.2.2.2.4 代替フロー**
      - アップロードが失敗した場合、エラーメッセージを表示。

  - **3.2.2.2.5 後処理条件**
      - 解析結果の表示、次のランドマークへの誘導。

### 3.2.3 データの処理および管理

#### 3.2.3.1 データ入力

  - **3.2.3.1.1 入力データの形式**
      - JPEG、PNG画像形式の写真データ。

  - **3.2.3.1.2 データの検証方法**
      - ファイルサイズと形式が適正かチェック。

  - **3.2.3.1.3 データの入力手順**
      - アップロードボタンをタップ。

#### 3.2.3.2 データ処理

  - **3.2.3.2.1 データの加工方法**
      - 画像解析エンジンでの特徴抽出。

  - **3.2.3.2.2 データの変換方法**
      - 画像をラベルとスコアに変換。

  - **3.2.3.2.3 データの計算方法**
      - 特典スコアの算出。

#### 3.2.3.3 データ出力

  - **3.2.3.3.1 出力データの形式**
      - JSON形式の解析結果。

  - **3.2.3.3.2 データの出力先**
      - スマートフォン画面、オペレータ端末。

  - **3.2.3.3.3 データの出力手順**
      - 解析完了後に自動表示。

#### 3.2.3.4 データ管理

  - **3.2.3.4.1 データの保存方法**
      - クラウドサーバに保存。

  - **3.2.3.4.2 バックアップ方法**
      - 定期的なデータのクラウドバックアップ。

  - **3.2.3.4.3 データのリストア方法**
      - 失敗時にはバックアップからデータリストア。

### 3.2.4 外部システムとのインターフェース

#### 3.2.4.1 インターフェース1 - チャットアプリ

  - **3.2.4.1.1 インターフェースの目的**
      - イベントアプリの起動および通知の配信。

  - **3.2.4.1.2 データの交換形式**
      - JSON形式。

  - **3.2.4.1.3 インターフェースプロトコル**
      - HTTP/HTTPS。

  - **3.2.4.1.4 エラーハンドリング**
      - リトライとエラーメッセージの通知。

#### 3.2.4.2 インターフェース2 - 画像解析エンジン

  - **3.2.4.2.1 インターフェースの目的**
      - アップロードされた画像の解析。

  - **3.2.4.2.2 データの交換形式**
      - JPEG、PNG。

  - **3.2.4.2.3 インターフェースプロトコル**
      - HTTP/HTTPS。

  - **3.2.4.2.4 エラーハンドリング**
      - 解析失敗時のエラーメッセージと再実行処理。

以上が機能要求書の内容です。