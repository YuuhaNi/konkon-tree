# 機能要求書

## 1. システム概要
本システムはイベントアプリケーションであり、ランドマーク探索および写真撮影・アップロードの機能を提供します。参加者はチャットアプリからイベントアプリを介してランドマークを探し、写真をアップロードし、解析結果を確認して次のランドマークに進むことができます。

## 2. ユーザーストーリーやユースケース

### 2.1 ユースケース1の説明 - ランドマーク探索
- **アクター**: 参加者
- **前提条件**: アプリがチャットアプリから正しく起動されていること。
- **基本フロー**:
  1. 参加者はチャットアプリからイベントアプリを起動します。
  2. 地図を参照してランドマークに移動します。
- **代替フロー**:
  - ランドマークが見つからない場合、オペレータによるサポートが提供されます。
- **後処理条件**:
  - ランドマーク到着後のタスク完了記録が保持されます。

### 2.2 ユースケース2の説明 - 写真アップロード
- **アクター**: 参加者
- **前提条件**: アプリが正しく動作し、カメラアクセスが許可されていること。
- **基本フロー**:
  1. 参加者がランドマークで写真を撮影します。
  2. アップロードボタンをタップします。
  3. 自動解析が行われます。
- **代替フロー**:
  - アップロードが失敗した場合、エラーメッセージが表示されます。
- **後処理条件**:
  - 解析結果が表示され、次のランドマークへの誘導が行われます。

## 3. データの処理および管理

### 3.1 データ入力
- **入力データの形式**: JPEG、PNG画像形式の写真データ。
- **データの検証方法**: ファイルサイズと形式が適正かチェックします。
- **データの入力手順**: アップロードボタンをタップして行われます。

### 3.2 データ処理
- **データの加工方法**: 画像解析エンジンで特徴抽出が行われます。
- **データの変換方法**: 画像をラベルとスコアに変換します。
- **データの計算方法**: 特典スコアを算出します。

### 3.3 データ出力
- **出力データの形式**: JSON形式の解析結果。
- **データの出力先**: スマートフォン画面、オペレータ端末。
- **データの出力手順**: 解析完了後に自動的に表示されます。

### 3.4 データ管理
- **データの保存方法**: クラウドサーバに保存します。
- **バックアップ方法**: 定期的なデータのクラウドバックアップが実施されます。
- **データのリストア方法**: 失敗時にはバックアップからデータリストアが行われます。

## 4. 外部システムとのインターフェース

### 4.1 インターフェース1 - チャットアプリ
- **インターフェースの目的**: イベントアプリの起動および通知の配信。
- **データの交換形式**: JSON形式。
- **インターフェースプロトコル**: HTTP/HTTPS。
- **エラーハンドリング**: リトライとエラーメッセージの通知が行われます。

### 4.2 インターフェース2 - 画像解析エンジン
- **インターフェースの目的**: アップロードされた画像の解析。
- **データの交換形式**: JPEG、PNG。
- **インターフェースプロトコル**: HTTP/HTTPS。
- **エラーハンドリング**: 解析失敗時のエラーメッセージと再実行処理が行われます。

## 5. システムが提供する具体的な機能

### 5.1 ランドマーク探索
- **インプット**:
  - 地図に従ってランドマークにアクセスします。
- **プロセス**:
  - チャットアプリからイベントアプリを起動し、ランドマークの場所を確認します。
- **アウトプット**:
  - ランドマークでのアクションログが生成されます。

### 5.2 写真のアップロードと自動解析
- **インプット**:
  - スマートフォンから撮影された写真がインプットされます。
- **プロセス**:
  - アップロードされた写真を解析し、関連情報を表示します。
- **アウトプット**:
  - 写真の解析結果とスコアが表示されます。

### 5.3 活動履歴の確認
- **インプット**:
  - 参加者の活動データがインプットされます。
- **プロセス**:
  - オペレータ端末でのデータ確認が行われます。
- **アウトプット**:
  - 参加者の活動履歴が表示されます。