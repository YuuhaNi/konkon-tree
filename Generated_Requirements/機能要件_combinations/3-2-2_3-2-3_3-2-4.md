# 機能要求書

## 目次
1. ユーザーストーリーやユースケース
    1. ユースケース1の説明 - ランドマーク探索
        1. アクター
        2. 前提条件
        3. 基本フロー
        4. 代替フロー
        5. 後処理条件
    2. ユースケース2の説明 - 写真アップロード
        1. アクター
        2. 前提条件
        3. 基本フロー
        4. 代替フロー
        5. 後処理条件
2. データの処理および管理
    1. データ入力
        1. 入力データの形式
        2. データの検証方法
        3. データの入力手順
    2. データ処理
        1. データの加工方法
        2. データの変換方法
        3. データの計算方法
    3. データ出力
        1. 出力データの形式
        2. データの出力先
        3. データの出力手順
    4. データ管理
        1. データの保存方法
        2. バックアップ方法
        3. データのリストア方法
3. 外部システムとのインターフェース
    1. インターフェース1 - チャットアプリ
        1. インターフェースの目的
        2. データの交換形式
        3. インターフェースプロトコル
        4. エラーハンドリング
    2. インターフェース2 - 画像解析エンジン
        1. インターフェースの目的
        2. データの交換形式
        3. インターフェースプロトコル
        4. エラーハンドリング

## 1. ユーザーストーリーやユースケース

### 1.1 ユースケース1の説明 - ランドマーク探索
#### 1.1.1 アクター
- 参加者

#### 1.1.2 前提条件
- アプリがチャットアプリから正しく起動されていること。

#### 1.1.3 基本フロー
1. 参加者はチャットアプリからイベントアプリを起動します。
2. 地図を参照してランドマークに移動します。

#### 1.1.4 代替フロー
- ランドマークが見つからない場合、オペレータによるサポートを受けます。

#### 1.1.5 後処理条件
- ランドマーク到着後のタスク完了が記録されます。

### 1.2 ユースケース2の説明 - 写真アップロード
#### 1.2.1 アクター
- 参加者

#### 1.2.2 前提条件
- アプリが正しく動作していること。
- カメラアクセスが許可されていること。

#### 1.2.3 基本フロー
1. 参加者がランドマークで写真を撮影します。
2. アップロードボタンをタップします。
3. 自動解析が行われます。

#### 1.2.4 代替フロー
- アップロードが失敗した場合、エラーメッセージを表示します。

#### 1.2.5 後処理条件
- 解析結果の表示
- 次のランドマークへの誘導

## 2. データの処理および管理

### 2.1 データ入力
#### 2.1.1 入力データの形式
- JPEG、PNG画像形式の写真データ。

#### 2.1.2 データの検証方法
- ファイルサイズと形式が適正かチェックを行います。

#### 2.1.3 データの入力手順
- アップロードボタンをタップします。

### 2.2 データ処理
#### 2.2.1 データの加工方法
- 画像解析エンジンで特徴抽出を行います。

#### 2.2.2 データの変換方法
- 画像をラベルとスコアに変換します。

#### 2.2.3 データの計算方法
- 特典スコアの算出を行います。

### 2.3 データ出力
#### 2.3.1 出力データの形式
- JSON形式の解析結果。

#### 2.3.2 データの出力先
- スマートフォン画面およびオペレータ端末。

#### 2.3.3 データの出力手順
- 解析完了後に自動で表示されます。

### 2.4 データ管理
#### 2.4.1 データの保存方法
- クラウドサーバにデータを保存します。

#### 2.4.2 バックアップ方法
- 定期的なデータのクラウドバックアップを行います。

#### 2.4.3 データのリストア方法
- 失敗時にはバックアップからデータリストアを行います。

## 3. 外部システムとのインターフェース

### 3.1 インターフェース1 - チャットアプリ
#### 3.1.1 インターフェースの目的
- イベントアプリの起動および通知の配信。

#### 3.1.2 データの交換形式
- JSON形式。

#### 3.1.3 インターフェースプロトコル
- HTTP/HTTPS。

#### 3.1.4 エラーハンドリング
- リトライとエラーメッセージの通知を行います。

### 3.2 インターフェース2 - 画像解析エンジン
#### 3.2.1 インターフェースの目的
- アップロードされた画像の解析。

#### 3.2.2 データの交換形式
- JPEG、PNG。

#### 3.2.3 インターフェースプロトコル
- HTTP/HTTPS。

#### 3.2.4 エラーハンドリング
- 解析失敗時にエラーメッセージを表示し、再実行処理を行います。