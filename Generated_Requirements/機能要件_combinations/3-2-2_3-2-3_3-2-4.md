## 機能要求書

### 1. 目的
本ドキュメントは、イベントアプリケーションの機能要求を明確にし、開発およびテストのための基盤を提供するものである。アプリケーションは主にチャットアプリから起動し、ランドマーク探索および写真アップロード機能を提供する。

### 2. ユースケースおよびユーザーストーリー

#### 2.1 ユースケース1 - ランドマーク探索

**アクター**: 参加者  
**前提条件**: アプリがチャットアプリから正しく起動されていること。  
**基本フロー**:
1. 参加者はチャットアプリからイベントアプリを起動する。
2. 地図を参照し、ランドマークに移動する。
3. ランドマーク到着後、タスク完了が記録される。

**代替フロー**:
- ランドマークが見つからない場合、オペレータによるサポートが受けられる。

**後処理条件**: ランドマーク到着後のタスク完了記録。

#### 2.2 ユースケース2 - 写真アップロード

**アクター**: 参加者  
**前提条件**: アプリが正しく動作していること、カメラアクセスが許可されていること。  
**基本フロー**:
1. 参加者がランドマークで写真を撮影する。
2. アップロードボタンをタップする。
3. 自動解析が行われる。

**代替フロー**:
- アップロードが失敗した場合、エラーメッセージを表示する。

**後処理条件**: 解析結果が表示され、次のランドマークへの誘導が行われる。

### 3. データの処理および管理

#### 3.1 データ入力

**入力データの形式**: JPEG、PNG画像形式の写真データ。  
**データの検証方法**: ファイルサイズと形式が適正かチェックする。  
**データの入力手順**: アップロードボタンをタップする。

#### 3.2 データ処理

**データの加工方法**: 画像解析エンジンで特徴抽出を行う。  
**データの変換方法**: 画像をラベルとスコアに変換する。  
**データの計算方法**: 特典スコアを算出する。

#### 3.3 データ出力

**出力データの形式**: JSON形式の解析結果。  
**データの出力先**: スマートフォン画面、オペレータ端末。  
**データの出力手順**: 解析完了後に自動表示される。

#### 3.4 データ管理

**データの保存方法**: クラウドサーバに保存される。  
**バックアップ方法**: 定期的なデータのクラウドバックアップが行われる。  
**データのリストア方法**: 失敗時にはバックアップからデータリストアが行われる。

### 4. 外部システムとのインターフェース

#### 4.1 インターフェース1 - チャットアプリ

**インターフェースの目的**: イベントアプリの起動および通知の配信。  
**データの交換形式**: JSON形式。  
**インターフェースプロトコル**: HTTP/HTTPS。  
**エラーハンドリング**: リトライとエラーメッセージの通知が行われる。

#### 4.2 インターフェース2 - 画像解析エンジン

**インターフェースの目的**: アップロードされた画像の解析。  
**データの交換形式**: JPEG、PNG。  
**インターフェースプロトコル**: HTTP/HTTPS。  
**エラーハンドリング**: 解析失敗時のエラーメッセージと再実行処理が行われる。

以上の内容に基づき、イベントアプリケーションの詳細設計と開発を進める。